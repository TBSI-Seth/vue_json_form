{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "UI Schema",
  "description": "Schema for the UI Schema",
  "definitions": {
    "control": {
      "type": "object",
      "description": "Contains a form element, e. g. a text input",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "Control"
          ]
        },
        "scope": {
          "type": "string",
          "description": "A json pointer referring to the form element in the forms json schema",
          "format": "json-pointer"
        },
        "label": {
          "type": "boolean",
          "description": "Defines whether the fields label is activated",
          "default": true
        },
        "format": {
          "description": "Format for string fields",
          "type": "string",
          "enum": [
            "time",
            "date",
            "date-time",
            "email",
            "password",
            "search",
            "url",
            "tel",
            "color"
          ]
        },
        "options": {
          "type": "object",
          "description": "Gives multiple options to configure the element",
          "properties": {
            "multi": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "integer"
                }
              ],
              "default": false,
              "description": "If set true, textarea will be shown instead of textfield \n Alternatively can be set to the number of wanted lines"
            },
            "rating": {
              "type": "boolean",
              "default": false,
              "description": "if set to true, numberfield will appear as star-rating-field"
            },
            "placeholder": {
              "type": "string",
              "description": "Will be shown as placeholder in form fields, if supported by field"
            },
            "enumTitles": {
              "type": "object",
              "description": "If the text in a enums select field is supposed to differ from the keys, they can be specified as properties of this object. The value in the enum must be used as property name",
              "propertyNames": {
                "type": "string",
                "minLength": 1
              },
              "patternProperties": {
                "": {
                  "type": "string",
                  "minLength": 1
                }
              }
            },
            "radiobuttons": {
              "type": "boolean",
              "description": "If set to true, a group of radiobuttons will be shown instead of the select field",
              "default": false
            },
            "stacked": {
              "type": "boolean",
              "description": "Radiobutton-/Checkbox group will be stacked if set to true",
              "default": false
            },
            "append": {
              "type": "string",
              "description": "Will be appended to field"
            }
          }
        },
        "showOn": {
          "type": "object",
          "description": "Show field depending on value of other field",
          "properties": {
            "scope": {
              "type": "string",
              "format": "json-pointer",
              "description": "The field this field depends on"
            },
            "type": {
              "type": "string",
              "description": "Condition to be applied",
              "enum": [
                "EQUALS",
                "NOT_EQUALS",
                "GREATER",
                "GREATER_OR_EQUAL",
                "SMALLER_OR_EQUAL",
                "SMALLER",
                "LONGER"
              ]
            },
            "referenceValue": {
              "description": "The value the field from scope is compared against",
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "string"
                },
                {
                  "type": "number"
                }
              ]
            }
          },
          "required": [
            "type",
            "scope",
            "referenceValue"
          ]
        }
      },
      "required": [
        "type",
        "scope"
      ]
    },
    "html": {
      "type": "object",
      "description": "Some HTML to be rendered in the form",
      "properties": {
        "type": {
          "type": "string",
          "enum": ["HTML"]
        },
        "htmlData": {
          "type": "string"
        }
      },
      "required": ["htmlData"]
    },
    "divider": {
      "type": "object",
      "description": "inserts a simple divider",
      "properties": {
        "type": {
          "type": "string",
          "enum": ["Divider"]
        }
      },
      "required": ["type"]
    },
    "layout": {
      "type": "object",
      "description": "The different Layouts",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "VerticalLayout",
            "HorizontalLayout",
            "Group"
          ]
        },
        "elements": {
          "type": "array",
          "default": [],
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/control"
              },
              {
                "$ref": "#/definitions/layout"
              },
              {
                "$ref": "#/definitions/html"
              },
              {
                "$ref": "#/definitions/divider"
              },
              {
                "$ref": "#/definitions/wizard"
              }
            ]
          }
        }
      },
      "required": [
        "type",
        "elements"
      ]
    },
    "wizard_page": {
      "type": "object",
      "properties": {
        "title": {
          "type": "string"
        },
        "content": {
          "anyOf": [
            {
              "$ref": "#/definitions/control"
            },
            {
              "$ref": "#/definitions/layout"
            },
            {
              "$ref": "#/definitions/html"
            }
          ]
        }
      },
      "required": ["title","content"]
    },
    "wizard": {
      "type": "object",
      "description": "A wizard that contains the form spread over multiple pages",
      "properties": {
        "type": {
          "type": "string",
          "enum": ["Wizard"]
        },
        "title": {
          "type": "string",
          "description": "The Wizards title"
        },
        "subtitle": {
          "type": "string",
          "description": "The Wizards subtitle"
        },
        "pages": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/wizard_page"
          }
        }
      },
      "required": ["type", "pages"]
    }
  },


  "anyOf": [
    {"$ref": "#/definitions/layout"},
    {"$ref": "#/definitions/wizard"}
  ]
}
